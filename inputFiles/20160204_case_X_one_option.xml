<!-- CASE X | One Option with a Connecting flight -->

<!-- Step #1 GSO to CCITIN-->
<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
	<soapenv:Body>
	<ns0:getCcitinOption xmlns:ns0="http://webservice.reservation.group.airline.prosrm.com/xsd">
		<ns0:ccitinRequest><?xml version="1.0" encoding="UTF-8"?>
		<Request version="1.0.0" airlineVendorID="LA">
		  <Direction id="1" origin="CCP" destination="MAD" cityPOS="SCL" countryPOS="CL" directFlightsOnly="no" allowOAL="no">
			<!-- **** FZ **** -->
			<!-- Con la flexibilidad de fechas  (+/- days), ¿cómo va a quedar este request? -->
			<!-- Podría haber un rango de fechas y/o cambio de frecuencias, aparte de las horas de salida (que sería mejor dejar TODO) -->
		    <DepartureDate startDate="20160303" endDate="20160303" frequency="1111111" startTime="0000" endTime="2359" orientation="D"/>
		  </Direction>
		</Request>
		</ns0:ccitinRequest>
	</ns0:getCcitinOption>
	</soapenv:Body>
</soapenv:Envelope>

<!-- **** FZ **** -->
<!-- Falta el change context acá para moverse al POS correcto -->


<!-- Step #2.A Get Itinariry options Request-->
<!-- **** FZ **** -->
<!-- Itinerary :) -->
<!-- Si es que la información del request fuera con rangos de fechas y/o DOW, ¿cómo cambia este request?
	 ¿Sería uno o varios requests? Imagino que serían varios requests, pero necesito su confirmación. -->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sec="http://schemas.xmlsoap.org/ws/2002/12/secext" xmlns:mes="http://www.ebxml.org/namespaces/messageHeader" xmlns:ns="http://webservices.sabre.com/sabreXML/2011/10">
   <soapenv:Body>
      <ns:OTA_AirAvailRQ ReturnHostCommand="true" Version="2.1.0"> 
      	<ns:OptionalQualifiers>
			<!-- <ns:AdditionalAvailability Ind="true" /> -->
         		<ns:FlightQualifiers Charters="false" DirectOnly="false" ExcludeCodeshares="true" Scan="false" />
         		<ns:TimeQualifiers>
				<ns:DepartureTime WindowBefore="23:59" WindowAfter="00:00"/>
			</ns:TimeQualifiers>
      	</ns:OptionalQualifiers>
        	<ns:OriginDestinationInformation>
			<ns:FlightSegment DepartureDateTime="2016-03-03">
				<ns:DestinationLocation LocationCode="MAD"/>
				<ns:OriginLocation LocationCode="CCP"/>
			</ns:FlightSegment>
		</ns:OriginDestinationInformation>
      </ns:OTA_AirAvailRQ>
   </soapenv:Body>
</soapenv:Envelope>

<!-- Step #3 Itinary options reply from SABRE [Modified to contain only one Option]-->
<!-- Itinerary :) -->
<soap-env:Envelope xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/">
   <soap-env:Body>
      <OTA_AirAvailRS Version="2.1.0" xmlns="http://webservices.sabre.com/sabreXML/2011/10" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:stl="http://services.sabre.com/STL/v01">
         <stl:ApplicationResults status="Complete">
            <stl:Success timeStamp="2016-01-29T11:11:07-06:00">
               <stl:SystemSpecificResults>
                  <stl:HostCommand LNIATA="60E27E">103MARCCPMAD0000-2359.</stl:HostCommand>
               </stl:SystemSpecificResults>
            </stl:Success>
         </stl:ApplicationResults>
         <OriginDestinationOptions OriginTimeZone="Z-3">
            <OriginDestinationOption RPH="1">
               <FlightSegment ArrivalDateTime="03-03T09:50" DOT_Ind="Y" DepartureDateTime="03-03T08:45" FlightNumber="200" RPH="1" SmokingAllowed="false" StopQuantity="0" eTicket="true">
                  <BookingClassAvail Availability="7" RPH="1" ResBookDesigCode="Y"/>
                  <BookingClassAvail Availability="7" RPH="2" ResBookDesigCode="B"/>
                  <BookingClassAvail Availability="7" RPH="3" ResBookDesigCode="H"/>
                  <BookingClassAvail Availability="7" RPH="4" ResBookDesigCode="K"/>
                  <BookingClassAvail Availability="7" RPH="5" ResBookDesigCode="M"/>
                  <BookingClassAvail Availability="7" RPH="6" ResBookDesigCode="L"/>
                  <BookingClassAvail Availability="7" RPH="7" ResBookDesigCode="V"/>
                  <BookingClassAvail Availability="7" RPH="8" ResBookDesigCode="X"/>
                  <BookingClassAvail Availability="7" RPH="9" ResBookDesigCode="S"/>
                  <BookingClassAvail Availability="7" RPH="10" ResBookDesigCode="N"/>
                  <BookingClassAvail Availability="7" RPH="11" ResBookDesigCode="Q"/>
                  <BookingClassAvail Availability="7" RPH="12" ResBookDesigCode="O"/>
                  <BookingClassAvail Availability="7" RPH="13" ResBookDesigCode="G"/>
                  <BookingClassAvail Availability="7" RPH="14" ResBookDesigCode="T"/>
                  <BookingClassAvail Availability="0" RPH="15" ResBookDesigCode="A"/>
                  <BookingClassAvail Availability="0" RPH="16" ResBookDesigCode="E"/>
                  <DaysOfOperation>
                     <OperationSchedule>
                        <OperationTimes>
                           <OperationTime Fri="true" Mon="true" Sat="false" Sun="false" Thur="true" Tue="true" Weds="true"/>
                        </OperationTimes>
                     </OperationSchedule>
                  </DaysOfOperation>
                  <DestinationLocation LocationCode="SCL"/>
                  <DisclosureAirline Code="**">
                     <Text>OPERATED BY LANEXPRESS</Text>
                  </DisclosureAirline>
                  <Equipment AirEquipType="320"/>
                  <FlightDetails Canceled="false" Charter="false" CodeshareBlockDisplay="*">
                     <Text>USD  15.00    SA-SEAT ASSIGNMENT</Text>
                     <Text>0.00    BG-FIRST CHECKED BAG</Text>
                     <Text>0.00    BG-SECOND CHECKED BAG</Text>
                     <Text>BEGHKLMNOSQTVXY CLP  18000    BG-THIRD CHECKED BAG</Text>
                     <Text>0.00    BG-THIRD CHECKED BAG</Text>
                     <Text>USD  19.00    BG-STANDARD BAGGAGE</Text>
                  </FlightDetails>
                  <MarketingAirline Code="LA" FlightNumber="200"/>
                  <Meal MealCode="S"/>
                  <OriginLocation LocationCode="CCP"/>
               </FlightSegment>
               <FlightSegment ArrivalDateTime="03-04T13:00" ConnectionInd="Y" DepartureDateTime="03-03T20:15" FlightNumber="704" RPH="2" SmokingAllowed="false" StopQuantity="0" eTicket="true">
                  <BookingClassAvail Availability="7" RPH="1" ResBookDesigCode="J"/>
                  <BookingClassAvail Availability="7" RPH="2" ResBookDesigCode="C"/>
                  <BookingClassAvail Availability="7" RPH="3" ResBookDesigCode="D"/>
                  <BookingClassAvail Availability="7" RPH="4" ResBookDesigCode="I"/>
                  <BookingClassAvail Availability="6" RPH="5" ResBookDesigCode="Z"/>
                  <BookingClassAvail Availability="0" RPH="6" ResBookDesigCode="U"/>
                  <BookingClassAvail Availability="7" RPH="7" ResBookDesigCode="Y"/>
                  <BookingClassAvail Availability="7" RPH="8" ResBookDesigCode="B"/>
                  <BookingClassAvail Availability="7" RPH="9" ResBookDesigCode="H"/>
                  <BookingClassAvail Availability="7" RPH="10" ResBookDesigCode="K"/>
                  <BookingClassAvail Availability="7" RPH="11" ResBookDesigCode="M"/>
                  <BookingClassAvail Availability="7" RPH="12" ResBookDesigCode="L"/>
                  <BookingClassAvail Availability="7" RPH="13" ResBookDesigCode="V"/>
                  <BookingClassAvail Availability="7" RPH="14" ResBookDesigCode="X"/>
                  <BookingClassAvail Availability="7" RPH="15" ResBookDesigCode="S"/>
                  <BookingClassAvail Availability="7" RPH="16" ResBookDesigCode="N"/>
                  <BookingClassAvail Availability="7" RPH="17" ResBookDesigCode="Q"/>
                  <BookingClassAvail Availability="7" RPH="18" ResBookDesigCode="O"/>
                  <BookingClassAvail Availability="7" RPH="19" ResBookDesigCode="G"/>
                  <BookingClassAvail Availability="7" RPH="20" ResBookDesigCode="T"/>
                  <BookingClassAvail Availability="7" RPH="21" ResBookDesigCode="A"/>
                  <BookingClassAvail Availability="0" RPH="22" ResBookDesigCode="E"/>
                  <DaysOfOperation>
                     <OperationSchedule>
                        <OperationTimes>
                           <OperationTime Fri="true" Mon="true" Sat="true" Sun="true" Thur="true" Tue="true" Weds="true"/>
                        </OperationTimes>
                     </OperationSchedule>
                  </DaysOfOperation>
                  <DestinationLocation LocationCode="MAD"/>
                  <Equipment AirEquipType="787"/>
                  <FlightDetails Canceled="false" Charter="false">
                     <Text>USD  15.00    SA-SEAT ASSIGNMENT</Text>
                     <Text>0.00    BG-FIRST CHECKED BAG</Text>
                     <Text>0.00    BG-SECOND CHECKED BAG</Text>
                     <Text>0.00    BG-THIRD CHECKED BAG</Text>
                     <Text>USD  19.00    BG-STANDARD BAGGAGE</Text>
                  </FlightDetails>
                  <MarketingAirline Code="LA" FlightNumber="704"/>
                  <Meal MealCode="DB"/>
                  <OriginLocation LocationCode="SCL"/>
               </FlightSegment>
            </OriginDestinationOption>
         </OriginDestinationOptions>
      </OTA_AirAvailRS>
   </soap-env:Body>
</soap-env:Envelope>


<!-- Step #4.1.A Get Inventory Details for the first flight in option 1-->
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
	<soap:Body>
		<InventoryControlFlightDisplayRQ xmlns:ns1="http://www.ebxml.org/namespaces/messageHeader" xmlns:ns2="http://webservices.sabre.com/sabreXML/2011/10" xmlns:ns3="http://webservices.sabre.com/sabreXML/2003/07" xmlns:ns4="http://webservices.sabre.com/pnrbuilder" xmlns:ns5="http://www.w3.org/2000/09/xmldsig#" xmlns:ns7="http://www.opentravel.org/OTA/2002/11" xmlns:ns8="http://www.w3.org/1999/xlink" xmlns:ns9="http://schemas.xmlsoap.org/ws/2002/12/secext" xmlns:ns10="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns11="http://www.sabre.com/ns/SSI/1.0" xmlns:ns12="http://services.sabre.com/ns/SOTA/Messaging/v1" xmlns:ns13="http://services.sabre.com/STL/v01">
			<FlightDisplay>
				<!-- **** FZ **** -->
				<!-- ¿Por qué todos estos tags van vacíos? ¿Tienes que estar así, o es por ahora? -->
				<ns3:User id="">
					<ns3:POS/>
					<ns3:PCC/>
					<Carrier/>
					<ns3:City/>
					<ns3:Country/>
					<ns3:Type/>
				</ns3:User>
				<Flight>
					<Carrier>LA</Carrier>
					<Number>200</Number>
					<Date>2016-03-03</Date>
				</Flight>
			</FlightDisplay>
		</InventoryControlFlightDisplayRQ>
	</soap:Body>
</soap:Envelope>

<!-- Step #4.1.B Get Inventory Details for the second flight in option 1-->
<!-- 2016.02.22
	1. ¿Qué versión del WS están utilizando? -->
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
	<soap:Body>
		<InventoryControlFlightDisplayRQ xmlns:ns1="http://www.ebxml.org/namespaces/messageHeader" xmlns:ns2="http://webservices.sabre.com/sabreXML/2011/10" xmlns:ns3="http://webservices.sabre.com/sabreXML/2003/07" xmlns:ns4="http://webservices.sabre.com/pnrbuilder" xmlns:ns5="http://www.w3.org/2000/09/xmldsig#" xmlns:ns7="http://www.opentravel.org/OTA/2002/11" xmlns:ns8="http://www.w3.org/1999/xlink" xmlns:ns9="http://schemas.xmlsoap.org/ws/2002/12/secext" xmlns:ns10="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns11="http://www.sabre.com/ns/SSI/1.0" xmlns:ns12="http://services.sabre.com/ns/SOTA/Messaging/v1" xmlns:ns13="http://services.sabre.com/STL/v01">
			<FlightDisplay>
				<ns3:User id="">
					<ns3:POS/>
					<ns3:PCC/>
					<Carrier/>
					<ns3:City/>
					<ns3:Country/>
					<ns3:Type/>
				</ns3:User>
				<Flight>
					<!-- **** FZ **** -->
					<!-- Bien el ejemplo acá. Cuidar siempre que la fecha acá sea la DepartureDate del SEGMENTO,
						 que imagino debería obtenerse del "DepartureDateTime" de cada "FlightSegment" del OTA_AirAvailRS -->
					<Carrier>LA</Carrier>
					<Number>704</Number>
					<Date>2016-03-03</Date>
				</Flight>
			</FlightDisplay>
		</InventoryControlFlightDisplayRQ>
	</soap:Body>
</soap:Envelope>

<!-- Step #4.1.C Get O&D Availability for the First Option-->

<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns="http://webservices.sabre.com/sabreXML/2003/07" xmlns:eb="http://www.ebxml.org/namespaces/messageHeader" xmlns:ns="http://webservices.sabre.com/sabreXML/2003/07" xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext" xmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsd="http://www.w3.org/1999/XMLSchema">
	<SOAP-ENV:Body>
		<AirInventoryRTDPDisplayRQ RTDP="true" TimeStamp="2011-07-28T10:27:50" Version="1">
			<!-- **** FZ **** -->
			<!-- Me parece que el ID puede ser un nombre más sencillo para identificarse en SABRE.
				 Podría ser GsoCCITIN, por si en el futuro necesitamos comunicarnos con Sabre por algún motivo (ej: debugging o troubleshooting) -->
			<UserInfo AirlineGDS="LA" ID="AAAA" POSCity="SCL" POSCountry="CL" POSID="" PseudoCityCode=""/>
			<!-- Recordar que Action="true" para carriers LATAM y "false" en otro caso -->
			<Segment Action="true" AirlineCode="LA" DepartureDate="2016-03-03" Destination="SCL" FlightNumber="200" Origin="CCP"/>
			<Segment Action="true" AirlineCode="LA" DepartureDate="2016-03-03" Destination="MAD" FlightNumber="704" Origin="SCL"/>
			<OnDInfo Destination="MAD" Origin="CCP"/>
			<RPIInfo NoOfSeats="1"/>
		</AirInventoryRTDPDisplayRQ>
	</SOAP-ENV:Body>
</SOAP-ENV:Envelope>


<!-- Step #5.A  Inventory Details Reply the first flight in option 1-->
<ns2:InventoryControlFlightDisplayRS xmlns:ns2="http://www.sabre.com/ns/SSI/1.0" xmlns:ns3="http://services.sabre.com/ns/SOTA/Messaging/v1" TimeStamp="2016-02-02T11:54:25-06:00">
	<ns2:FlightDisplay>
		<ns2:Flight>
			<ns2:Date>2016-03-03T00:00:00-06:00</ns2:Date>
			<ns2:Number>200</ns2:Number>
			<ns2:Carrier>LA</ns2:Carrier>
		</ns2:Flight>
		<ns2:Leg>
			<ns2:Origin>CCP</ns2:Origin>
			<ns2:Destination>SCL</ns2:Destination>
			<ns2:Date>2016-03-03T00:00:00-06:00</ns2:Date>
			<ns2:DepartureTime>0845</ns2:DepartureTime>
			<ns2:ArrivalTime>0950</ns2:ArrivalTime>
			<ns2:Configuration>A40</ns2:Configuration>
			<ns2:NestingID>10</ns2:NestingID>
			<ns2:Capacities>
				<ns2:Cabin index="1">0</ns2:Cabin>
				<ns2:Cabin index="2">0</ns2:Cabin>
				<ns2:Cabin index="3">174</ns2:Cabin>
			</ns2:Capacities>
			<ns2:CapacityAdjustments/>
			<ns2:LegAuth>
				<ns2:Seats class="A">40</ns2:Seats>
				<ns2:Seats class="B">183</ns2:Seats>
				<ns2:Seats class="E">0</ns2:Seats>
				<ns2:Seats class="G">40</ns2:Seats>
				<ns2:Seats class="H">183</ns2:Seats>
				<ns2:Seats class="K">178</ns2:Seats>
				<ns2:Seats class="L">155</ns2:Seats>
				<ns2:Seats class="M">170</ns2:Seats>
				<ns2:Seats class="N">110</ns2:Seats>
				<ns2:Seats class="O">40</ns2:Seats>
				<ns2:Seats class="Q">85</ns2:Seats>
				<ns2:Seats class="S">130</ns2:Seats>
				<ns2:Seats class="T">40</ns2:Seats>
				<ns2:Seats class="V">145</ns2:Seats>
				<ns2:Seats class="X">130</ns2:Seats>
				<ns2:Seats class="Y">188</ns2:Seats>
			</ns2:LegAuth>
			<!-- **** FZ **** -->
			<!-- Lo importante de esta información es darse cuenta, en conjunto con los tags 
				 de LegAuth y SeatsSold las cabinas que realmente existen en el vuelo.
				 En NestingOrder veo que vienen las clases ordenadas para cada cabina, y luego 
				 al cruzar esa info con los otros tags tendríamos toda la info de la cabina.
				 
				 OJO: Puede pasar que aparezcan clases en LegAuth aún cuando en Capacities la
				 capacidad de esa cabina sea 0, porque se hacen cierres operacionesl (por ejemplo)
				 que justifiquen NO DEJAR ENTRAR MAS PASAJEROS a esa cabina.
				 -->
			<ns2:NestingOrder>
				<ns2:Cabin index="1">F</ns2:Cabin>
				<ns2:Cabin index="2">JCDIZUWPR</ns2:Cabin>
				<ns2:Cabin index="3">YBHKMLVXSNQOGTAE</ns2:Cabin>
			</ns2:NestingOrder>
			<!-- **** FZ **** -->
			<!-- Confirmar con Sabre que si es que acá la clase no aparece, significa que tiene 0 SeatsSold -->
			<ns2:SeatsSold>
				<ns2:Seats class="A">1</ns2:Seats>
				<ns2:Seats class="H">1</ns2:Seats>
				<ns2:Seats class="L">3</ns2:Seats>
				<ns2:Seats class="N">15</ns2:Seats>
				<ns2:Seats class="O">30</ns2:Seats>
				<ns2:Seats class="Q">2</ns2:Seats>
				<ns2:Seats class="S">1</ns2:Seats>
				<ns2:Seats class="T">12</ns2:Seats>
				<ns2:Seats class="V">3</ns2:Seats>
				<ns2:Seats class="Y">1</ns2:Seats>
			</ns2:SeatsSold>
		</ns2:Leg>
		<ns2:Segment>
			<ns2:Destination>SCL</ns2:Destination>
			<ns2:Origin>CCP</ns2:Origin>
			<ns2:FltNum>200</ns2:FltNum>
			<ns2:Date>2016-03-03</ns2:Date>
			<ns2:MaxSeats/>
			<!-- **** FZ **** -->
			<!-- Confirmar con Sabre que si es que acá la clase no aparece, significa que tiene 0 SeatsSold -->
			<ns2:SeatsSold>
				<ns2:Seats class="A">1</ns2:Seats>
				<ns2:Seats class="H">1</ns2:Seats>
				<ns2:Seats class="L">3</ns2:Seats>
				<ns2:Seats class="N">15</ns2:Seats>
				<ns2:Seats class="O">30</ns2:Seats>
				<ns2:Seats class="Q">2</ns2:Seats>
				<ns2:Seats class="S">1</ns2:Seats>
				<ns2:Seats class="T">12</ns2:Seats>
				<ns2:Seats class="V">3</ns2:Seats>
				<ns2:Seats class="Y">1</ns2:Seats>
			</ns2:SeatsSold>
			<ns2:Waitlist/>
			<ns2:CorporateGroupCounts/>
		</ns2:Segment>
	</ns2:FlightDisplay>
	<ns2:Header.RS>
		<ns3:Results status="Complete">
			<ns3:Success/>
		</ns3:Results>
	</ns2:Header.RS>
</ns2:InventoryControlFlightDisplayRS>

<!-- Step #5.B  Inventory Details Reply the second flight in option 1-->
<ns2:InventoryControlFlightDisplayRS xmlns:ns2="http://www.sabre.com/ns/SSI/1.0" xmlns:ns3="http://services.sabre.com/ns/SOTA/Messaging/v1" TimeStamp="2016-02-02T12:18:03-06:00">
	<ns2:FlightDisplay>
		<ns2:Flight>
			<ns2:Date>2016-03-03T00:00:00-06:00</ns2:Date>
			<ns2:Number>704</ns2:Number>
			<ns2:Carrier>LA</ns2:Carrier>
		</ns2:Flight>
		<ns2:Leg>
			<ns2:Origin>SCL</ns2:Origin>
			<ns2:Destination>MAD</ns2:Destination>
			<ns2:Date>2016-03-03T00:00:00-06:00</ns2:Date>
			<ns2:DepartureTime>2015</ns2:DepartureTime>
			<ns2:ArrivalTime>1300</ns2:ArrivalTime>
			<ns2:Configuration>B88</ns2:Configuration>
			<ns2:NestingID>10</ns2:NestingID>
			<ns2:Capacities>
				<ns2:Cabin index="1">0</ns2:Cabin>
				<ns2:Cabin index="2">30</ns2:Cabin>
				<ns2:Cabin index="3">213</ns2:Cabin>
			</ns2:Capacities>
			<ns2:CapacityAdjustments/>
			<ns2:LegAuth>
				<ns2:Seats class="A">68</ns2:Seats>
				<ns2:Seats class="B">219</ns2:Seats>
				<ns2:Seats class="C">14</ns2:Seats>
				<ns2:Seats class="D">14</ns2:Seats>
				<ns2:Seats class="E">0</ns2:Seats>
				<ns2:Seats class="G">137</ns2:Seats>
				<ns2:Seats class="H">219</ns2:Seats>
				<ns2:Seats class="I">10</ns2:Seats>
				<ns2:Seats class="J">30</ns2:Seats>
				<ns2:Seats class="K">219</ns2:Seats>
				<ns2:Seats class="L">216</ns2:Seats>
				<ns2:Seats class="M">217</ns2:Seats>
				<ns2:Seats class="N">198</ns2:Seats>
				<ns2:Seats class="O">162</ns2:Seats>
				<ns2:Seats class="Q">187</ns2:Seats>
				<ns2:Seats class="S">203</ns2:Seats>
				<ns2:Seats class="T">124</ns2:Seats>
				<ns2:Seats class="U">0</ns2:Seats>
				<ns2:Seats class="V">216</ns2:Seats>
				<ns2:Seats class="X">210</ns2:Seats>
				<ns2:Seats class="Y">219</ns2:Seats>
				<ns2:Seats class="Z">10</ns2:Seats>
			</ns2:LegAuth>
			<ns2:NestingOrder>
				<ns2:Cabin index="1">F</ns2:Cabin>
				<ns2:Cabin index="2">JCDIZUWPR</ns2:Cabin>
				<ns2:Cabin index="3">YBHKMLVXSNQOGTAE</ns2:Cabin>
			</ns2:NestingOrder>
			<ns2:SeatsSold>
				<ns2:Seats class="A">65</ns2:Seats>
				<ns2:Seats class="D">4</ns2:Seats>
				<ns2:Seats class="G">13</ns2:Seats>
				<ns2:Seats class="J">3</ns2:Seats>
				<ns2:Seats class="K">2</ns2:Seats>
				<ns2:Seats class="M">1</ns2:Seats>
				<ns2:Seats class="N">11</ns2:Seats>
				<ns2:Seats class="O">25</ns2:Seats>
				<ns2:Seats class="Q">25</ns2:Seats>
				<ns2:Seats class="S">5</ns2:Seats>
				<ns2:Seats class="T">9</ns2:Seats>
				<ns2:Seats class="V">6</ns2:Seats>
				<ns2:Seats class="X">7</ns2:Seats>
				<ns2:Seats class="Z">10</ns2:Seats>
			</ns2:SeatsSold>
		</ns2:Leg>
		<ns2:Leg>
			<ns2:Origin>MAD</ns2:Origin>
			<ns2:Destination>FRA</ns2:Destination>
			<ns2:Date>2016-03-04T00:00:00-06:00</ns2:Date>
			<ns2:DepartureTime>1515</ns2:DepartureTime>
			<ns2:ArrivalTime>1750</ns2:ArrivalTime>
			<ns2:Configuration>B89</ns2:Configuration>
			<ns2:NestingID>10</ns2:NestingID>
			<ns2:Capacities>
				<ns2:Cabin index="1">0</ns2:Cabin>
				<ns2:Cabin index="2">30</ns2:Cabin>
				<ns2:Cabin index="3">217</ns2:Cabin>
			</ns2:Capacities>
			<ns2:CapacityAdjustments/>
			<ns2:LegAuth>
				<ns2:Seats class="A">14</ns2:Seats>
				<ns2:Seats class="B">217</ns2:Seats>
				<ns2:Seats class="C">30</ns2:Seats>
				<ns2:Seats class="D">30</ns2:Seats>
				<ns2:Seats class="E">0</ns2:Seats>
				<ns2:Seats class="G">133</ns2:Seats>
				<ns2:Seats class="H">217</ns2:Seats>
				<ns2:Seats class="I">29</ns2:Seats>
				<ns2:Seats class="J">30</ns2:Seats>
				<ns2:Seats class="K">217</ns2:Seats>
				<ns2:Seats class="L">217</ns2:Seats>
				<ns2:Seats class="M">217</ns2:Seats>
				<ns2:Seats class="N">202</ns2:Seats>
				<ns2:Seats class="O">169</ns2:Seats>
				<ns2:Seats class="Q">195</ns2:Seats>
				<ns2:Seats class="S">211</ns2:Seats>
				<ns2:Seats class="T">16</ns2:Seats>
				<ns2:Seats class="U">17</ns2:Seats>
				<ns2:Seats class="V">216</ns2:Seats>
				<ns2:Seats class="X">213</ns2:Seats>
				<ns2:Seats class="Y">217</ns2:Seats>
				<ns2:Seats class="Z">28</ns2:Seats>
			</ns2:LegAuth>
			<ns2:NestingOrder>
				<ns2:Cabin index="1">F</ns2:Cabin>
				<ns2:Cabin index="2">JCDIZUWPR</ns2:Cabin>
				<ns2:Cabin index="3">YBHKMLVXSNQOGTAE</ns2:Cabin>
			</ns2:NestingOrder>
			<ns2:SeatsSold>
				<ns2:Seats class="A">14</ns2:Seats>
				<ns2:Seats class="D">1</ns2:Seats>
				<ns2:Seats class="G">34</ns2:Seats>
				<ns2:Seats class="L">1</ns2:Seats>
				<ns2:Seats class="N">3</ns2:Seats>
				<ns2:Seats class="O">20</ns2:Seats>
				<ns2:Seats class="Q">8</ns2:Seats>
				<ns2:Seats class="S">9</ns2:Seats>
				<ns2:Seats class="T">2</ns2:Seats>
				<ns2:Seats class="V">2</ns2:Seats>
				<ns2:Seats class="X">2</ns2:Seats>
				<ns2:Seats class="Z">5</ns2:Seats>
			</ns2:SeatsSold>
		</ns2:Leg>
		<ns2:Segment>
			<ns2:Destination>MAD</ns2:Destination>
			<ns2:Origin>SCL</ns2:Origin>
			<ns2:FltNum>704</ns2:FltNum>
			<ns2:Date>2016-03-03</ns2:Date>
			<ns2:MaxSeats/>
			<ns2:SeatsSold>
				<ns2:Seats class="A">57</ns2:Seats>
				<ns2:Seats class="D">3</ns2:Seats>
				<ns2:Seats class="G">9</ns2:Seats>
				<ns2:Seats class="J">3</ns2:Seats>
				<ns2:Seats class="K">2</ns2:Seats>
				<ns2:Seats class="M">1</ns2:Seats>
				<ns2:Seats class="N">9</ns2:Seats>
				<ns2:Seats class="O">17</ns2:Seats>
				<ns2:Seats class="Q">19</ns2:Seats>
				<ns2:Seats class="S">4</ns2:Seats>
				<ns2:Seats class="T">7</ns2:Seats>
				<ns2:Seats class="V">5</ns2:Seats>
				<ns2:Seats class="X">5</ns2:Seats>
				<ns2:Seats class="Z">9</ns2:Seats>
			</ns2:SeatsSold>
			<ns2:Waitlist/>
			<ns2:CorporateGroupCounts/>
		</ns2:Segment>
		<ns2:Segment>
			<ns2:Destination>FRA</ns2:Destination>
			<ns2:Origin>SCL</ns2:Origin>
			<ns2:FltNum>704</ns2:FltNum>
			<ns2:Date>2016-03-03</ns2:Date>
			<ns2:MaxSeats/>
			<ns2:SeatsSold>
				<ns2:Seats class="A">8</ns2:Seats>
				<ns2:Seats class="D">1</ns2:Seats>
				<ns2:Seats class="G">4</ns2:Seats>
				<ns2:Seats class="N">2</ns2:Seats>
				<ns2:Seats class="O">8</ns2:Seats>
				<ns2:Seats class="Q">6</ns2:Seats>
				<ns2:Seats class="S">1</ns2:Seats>
				<ns2:Seats class="T">2</ns2:Seats>
				<ns2:Seats class="V">1</ns2:Seats>
				<ns2:Seats class="X">2</ns2:Seats>
				<ns2:Seats class="Z">1</ns2:Seats>
			</ns2:SeatsSold>
			<ns2:Waitlist/>
			<ns2:CorporateGroupCounts>
				<ns2:Seats class="Q">3</ns2:Seats>
			</ns2:CorporateGroupCounts>
		</ns2:Segment>
		<ns2:Segment>
			<ns2:Destination>FRA</ns2:Destination>
			<ns2:Origin>MAD</ns2:Origin>
			<ns2:FltNum>704</ns2:FltNum>
			<ns2:Date>2016-03-04</ns2:Date>
			<ns2:MaxSeats/>
			<ns2:SeatsSold>
				<ns2:Seats class="A">6</ns2:Seats>
				<ns2:Seats class="G">30</ns2:Seats>
				<ns2:Seats class="L">1</ns2:Seats>
				<ns2:Seats class="N">1</ns2:Seats>
				<ns2:Seats class="O">12</ns2:Seats>
				<ns2:Seats class="Q">2</ns2:Seats>
				<ns2:Seats class="S">8</ns2:Seats>
				<ns2:Seats class="V">1</ns2:Seats>
				<ns2:Seats class="Z">4</ns2:Seats>
			</ns2:SeatsSold>
			<ns2:Waitlist/>
			<!-- **** FZ **** -->
			<!-- Corresponde al total de pasajeros de grupos, no?
				 Deberían ser la cuenta de los pax de los Corporate PNR -->
			<ns2:CorporateGroupCounts>
				<ns2:Seats class="S">8</ns2:Seats>
			</ns2:CorporateGroupCounts>
		</ns2:Segment>
	</ns2:FlightDisplay>
	<ns2:Header.RS>
		<ns3:Results status="Complete">
			<ns3:Success/>
		</ns3:Results>
	</ns2:Header.RS>
</ns2:InventoryControlFlightDisplayRS>

<!-- Step #5.C  O&D Availability Reply for the First Option-->
<!-- AirInventoryRTDPDisplayRS -->

<!-- **** FZ **** -->
<!-- Recordemos acá que para saber qué disponibilidad leer se debe usar primero el tag OnDInfo para entender
	 cuáles son los segmentos (tags Segment) que son parte del O&D. Luego, usando las propiedades "RTDPActive"
	 se determina si el O&D está controlado por AU o por Bid Price. Si al menos 1 de los RTDPActive está en "true"
	 entonces la disponibilidad que se debe retornar es la del tag "RTDPAvail". Si todos son "false" entonces se
	 debe retornar "SeatsAvail".
	 
	 Los FareValues 
	 
	 NOTA: Podría darse que hay más de 1 tag OnDInfo para que estemos preparados para eso.	 
	 -->
<soap-env:Envelope xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/">
   <soap-env:Body>
      <AirInventoryRTDPDisplayRS TimeStamp="2016-01-29T13:00:39" Version="1" xmlns="http://www.sabre.com/ns/SSI/1.0">
         <UserInfo AirlineGDS="LA" ID="AAAA" POSCity="SCL" POSCountry="CL"/>
         <Segment Action="true" AirlineCode="LA" ArrivalTime="950" DepartureDate="2016-03-03" DepartureTime="845" Destination="SCL" FareclassAvlSeq="YBHKMLVXSNQOGTAE" FlightNumber="200" NoOfLegs="1" Origin="CCP" RTDPActive="false">
            <SeatsAvail>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">183</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">40</Seats>
               <Seats Class="H" xmlns="">183</Seats>
               <Seats Class="K" xmlns="">178</Seats>
               <Seats Class="L" xmlns="">153</Seats>
               <Seats Class="M" xmlns="">168</Seats>
               <Seats Class="N" xmlns="">108</Seats>
               <Seats Class="O" xmlns="">40</Seats>
               <Seats Class="Q" xmlns="">83</Seats>
               <Seats Class="S" xmlns="">123</Seats>
               <Seats Class="T" xmlns="">40</Seats>
               <Seats Class="V" xmlns="">143</Seats>
               <Seats Class="X" xmlns="">128</Seats>
               <Seats Class="Y" xmlns="">188</Seats>
            </SeatsAvail>
            <RTDPAvail>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
            </RTDPAvail>
            <SeatsSold>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
            </SeatsSold>
            <WaitlistSeats>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
            </WaitlistSeats>
            <WaitlistStatus>
               <Status Class="A" xmlns="">false</Status>
               <Status Class="B" xmlns="">true</Status>
               <Status Class="E" xmlns="">false</Status>
               <Status Class="G" xmlns="">true</Status>
               <Status Class="H" xmlns="">true</Status>
               <Status Class="K" xmlns="">true</Status>
               <Status Class="L" xmlns="">true</Status>
               <Status Class="M" xmlns="">true</Status>
               <Status Class="N" xmlns="">true</Status>
               <Status Class="O" xmlns="">true</Status>
               <Status Class="Q" xmlns="">true</Status>
               <Status Class="S" xmlns="">true</Status>
               <Status Class="T" xmlns="">true</Status>
               <Status Class="V" xmlns="">true</Status>
               <Status Class="X" xmlns="">true</Status>
               <Status Class="Y" xmlns="">true</Status>
            </WaitlistStatus>
            <Leg AirlineCode="LA" ArrivalTime="950" Cabins="FJY" DepartureDate="2016-03-03" DepartureTime="845" Destination="SCL" FareCabins="YYJJYFYYJJYYYYYJYJYYJYJYYJ" FlightNumber="200" Origin="CCP" RTDPActive="false">
               <CabinCapacities>
                  <Cabin Index="3" xmlns="">174</Cabin>
               </CabinCapacities>
               <CabinAuth>
                  <Cabin Index="3" xmlns="">188</Cabin>
               </CabinAuth>
               <CabinSeatsSold>
                  <Cabin Index="3" xmlns="">0</Cabin>
               </CabinSeatsSold>
               <CabinSeatsAvail>
                  <Cabin Index="3" xmlns="">188</Cabin>
               </CabinSeatsAvail>
            </Leg>
         </Segment>
         <Segment Action="true" AirlineCode="LA" ArrivalDateAdj="1" ArrivalTime="1300" DepartureDate="2016-03-03" DepartureTime="2015" Destination="MAD" FareclassAvlSeq="JCDIZUYBHKMLVXSNQOGTAE" FlightNumber="704" NoOfLegs="1" Origin="SCL" RTDPActive="true">
            <SeatsAvail>
               <Seats Class="A" xmlns="">36</Seats>
               <Seats Class="B" xmlns="">213</Seats>
               <Seats Class="C" xmlns="">30</Seats>
               <Seats Class="D" xmlns="">11</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">42</Seats>
               <Seats Class="H" xmlns="">213</Seats>
               <Seats Class="I" xmlns="">8</Seats>
               <Seats Class="J" xmlns="">30</Seats>
               <Seats Class="K" xmlns="">213</Seats>
               <Seats Class="L" xmlns="">209</Seats>
               <Seats Class="M" xmlns="">211</Seats>
               <Seats Class="N" xmlns="">196</Seats>
               <Seats Class="O" xmlns="">57</Seats>
               <Seats Class="Q" xmlns="">188</Seats>
               <Seats Class="S" xmlns="">201</Seats>
               <Seats Class="T" xmlns="">42</Seats>
               <Seats Class="U" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">207</Seats>
               <Seats Class="X" xmlns="">205</Seats>
               <Seats Class="Y" xmlns="">213</Seats>
               <Seats Class="Z" xmlns="">6</Seats>
            </SeatsAvail>
            <RTDPAvail>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="C" xmlns="">0</Seats>
               <Seats Class="D" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="I" xmlns="">0</Seats>
               <Seats Class="J" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="U" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
               <Seats Class="Z" xmlns="">0</Seats>
            </RTDPAvail>
            <SeatsSold>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="C" xmlns="">0</Seats>
               <Seats Class="D" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="I" xmlns="">0</Seats>
               <Seats Class="J" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="U" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
               <Seats Class="Z" xmlns="">0</Seats>
            </SeatsSold>
            <WaitlistSeats>
               <Seats Class="A" xmlns="">0</Seats>
               <Seats Class="B" xmlns="">0</Seats>
               <Seats Class="C" xmlns="">0</Seats>
               <Seats Class="D" xmlns="">0</Seats>
               <Seats Class="E" xmlns="">0</Seats>
               <Seats Class="G" xmlns="">0</Seats>
               <Seats Class="H" xmlns="">0</Seats>
               <Seats Class="I" xmlns="">0</Seats>
               <Seats Class="J" xmlns="">0</Seats>
               <Seats Class="K" xmlns="">0</Seats>
               <Seats Class="L" xmlns="">0</Seats>
               <Seats Class="M" xmlns="">0</Seats>
               <Seats Class="N" xmlns="">0</Seats>
               <Seats Class="O" xmlns="">0</Seats>
               <Seats Class="Q" xmlns="">0</Seats>
               <Seats Class="S" xmlns="">0</Seats>
               <Seats Class="T" xmlns="">0</Seats>
               <Seats Class="U" xmlns="">0</Seats>
               <Seats Class="V" xmlns="">0</Seats>
               <Seats Class="X" xmlns="">0</Seats>
               <Seats Class="Y" xmlns="">0</Seats>
               <Seats Class="Z" xmlns="">0</Seats>
            </WaitlistSeats>
            <WaitlistStatus>
               <Status Class="A" xmlns="">true</Status>
               <Status Class="B" xmlns="">true</Status>
               <Status Class="C" xmlns="">true</Status>
               <Status Class="D" xmlns="">true</Status>
               <Status Class="E" xmlns="">false</Status>
               <Status Class="G" xmlns="">true</Status>
               <Status Class="H" xmlns="">true</Status>
               <Status Class="I" xmlns="">true</Status>
               <Status Class="J" xmlns="">true</Status>
               <Status Class="K" xmlns="">true</Status>
               <Status Class="L" xmlns="">true</Status>
               <Status Class="M" xmlns="">true</Status>
               <Status Class="N" xmlns="">true</Status>
               <Status Class="O" xmlns="">true</Status>
               <Status Class="Q" xmlns="">true</Status>
               <Status Class="S" xmlns="">true</Status>
               <Status Class="T" xmlns="">true</Status>
               <Status Class="U" xmlns="">false</Status>
               <Status Class="V" xmlns="">true</Status>
               <Status Class="X" xmlns="">true</Status>
               <Status Class="Y" xmlns="">true</Status>
               <Status Class="Z" xmlns="">true</Status>
            </WaitlistStatus>
            <Leg AirlineCode="LA" ArrivalDateAdj="1" ArrivalTime="1300" Cabins="FJY" DepartureDate="2016-03-03" DepartureTime="2015" Destination="MAD" FareCabins="YYJJYFYYJJYYYYYJYJYYJYJYYJ" FlightNumber="704" Origin="SCL" RTDPActive="true">
               <CabinCapacities>
                  <Cabin Index="2" xmlns="">30</Cabin>
                  <Cabin Index="3" xmlns="">213</Cabin>
               </CabinCapacities>
               <CabinAuth>
                  <Cabin Index="2" xmlns="">30</Cabin>
                  <Cabin Index="3" xmlns="">213</Cabin>
               </CabinAuth>
               <CabinSeatsSold>
                  <Cabin Index="2" xmlns="">0</Cabin>
                  <Cabin Index="3" xmlns="">0</Cabin>
               </CabinSeatsSold>
               <CabinSeatsAvail>
                  <Cabin Index="2" xmlns="">30</Cabin>
                  <Cabin Index="3" xmlns="">213</Cabin>
               </CabinSeatsAvail>
            </Leg>
         </Segment>
         <OnDInfo Destination="MAD" Origin="CCP">
            <SegIndex>1</SegIndex>
            <SegIndex>2</SegIndex>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="A" FareValue="423"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="B" FareValue="2340"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="C" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="D" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="E" FareValue="0"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="G" FareValue="564"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="H" FareValue="1935"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="I" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="J" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="K" FareValue="1620"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="L" FareValue="1200"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="M" FareValue="1384"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="N" FareValue="805"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="O" FareValue="635"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="Q" FareValue="705"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="S" FareValue="905"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="T" FareValue="494"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="U" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="V" FareValue="1043"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="X" FareValue="927"/>
            <Fares AdjustedFareValue="1" BidPrice="551" Class="Y" FareValue="2781"/>
            <Fares AdjustedFareValue="1" BidPrice="4002" Class="Z" FareValue="2781"/>
         </OnDInfo>
         <RPIInfo NoOfSeats="1"/>
      </AirInventoryRTDPDisplayRS>
   </soap-env:Body>
</soap-env:Envelope>

<!-- Step #6 Reply to GSO -->
<Response>
    <Direction id="1">
        <Option EFT="2415" id="1">
			<!-- 1. sequenceNumber representa el número correlativo de vuelo que utiliza el grupo dentro de la opción? -->
            <Flight EFT="0105" aircraftType="320" arrivalDate="20160303" arrivalTime="0950" carrier="LA" departureDate="20160303" departureTime="0845" destination="SCL" flightNumber="200" origin="CCP" sequenceNumber="1">
				<!-- **** FZ **** -->
				<!-- Preguntas: 
					1. Tag "Leg" y "Leg" > "Compartment": Los campos "odFactor", "allowBooking", "allowGroup", "allowSale" y "allowWaitlist": ¿De dónde salen?
					2. Tag "Seg" y "Seg" > "Compartment": Los campos "odFactor", "allowBooking", "allowGroup", "allowSale" y "allowWaitlist", "limit": ¿De dónde salen?
					
                        2016.02.22
                        3. ¿"sequenceNumber" es el número de leg correlativo dentro de la opción, o es el número correlativo del tramo dentro de los tramos del vuelo en particular?
                        4. ¿"dateOffset" es la diferencia en días cuando el Leg del tag actual sale, con respecto al inicio del mismo vuelo?
                                (Pensemos en el caso de un vuelo con 2 tramos, donde el segundo sale al día siguiente. Ahí sería dateOffset="1")
                        5. ¿Qué representa "odFactor"?
                        6. ¿La "adjustedCapacity" de dónde se obtiene? Yo entiendo que se obtiene directamente de PROS O&D, y eso NO está en el HOST.
                        7. ¿La "capacity" es la capacidad física?
                        8. ¿Cuál es el conjunto de Leg/Segment que hay que indicar en la respuesta? En GRMS, me parece, era sólo los Leg que atravesaba el grupo y TODOS los
                                Segments. ¿Cómo es ahora con GSO?
                -->
                <Leg allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" dateOffset="0" destination="SCL" sequenceNumber="1">
                    <Compartment adjustedCapacity="174" capacity="174" code="Y" groupBooked="0" odFactor="100" totalAU="188" totalBooked="69">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Y" groupBooked="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="B" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="H" groupBooked="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="K" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="M" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="L" groupBooked="0" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="V" groupBooked="0" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="X" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="S" groupBooked="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="N" groupBooked="0" totalBooked="15"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Q" groupBooked="0" totalBooked="2"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="O" groupBooked="0" totalBooked="30"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="G" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="T" groupBooked="0" totalBooked="12"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="A" groupBooked="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="E" groupBooked="0" totalBooked="0"/>
                    </Compartment>
                </Leg>
                <!-- **** FZ **** -->
                <!-- Acá estoy viendo que el campo "odAvailability" se llenó con la información de LegAuth del InventoryControlFlightDisplayRS.
                Me parece que debería ser con la disponibilidad calculada en AirInventoryRTDPDisplayRS -->
                <Segment allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" destination="SCL" origin="CCP" sequenceNumber="1">
                    <Compartment code="Y" groupBooked="0">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Y" groupBooked="0" limit="999" odAvailability="188" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="B" groupBooked="0" limit="999" odAvailability="183" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="H" groupBooked="0" limit="999" odAvailability="183" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="K" groupBooked="0" limit="999" odAvailability="178" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="M" groupBooked="0" limit="999" odAvailability="168" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="L" groupBooked="0" limit="999" odAvailability="153" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="V" groupBooked="0" limit="999" odAvailability="143" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="X" groupBooked="0" limit="999" odAvailability="128" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="S" groupBooked="0" limit="999" odAvailability="123" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="N" groupBooked="0" limit="999" odAvailability="108" totalBooked="15"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Q" groupBooked="0" limit="999" odAvailability="83" totalBooked="2"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="O" groupBooked="0" limit="999" odAvailability="40" totalBooked="30"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="G" groupBooked="0" limit="999" odAvailability="40" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="T" groupBooked="0" limit="999" odAvailability="40" totalBooked="12"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="A" groupBooked="0" limit="999" odAvailability="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="E" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>	
                    </Compartment>
                </Segment>
            </Flight>
            <Flight EFT="1245" aircraftType="787" arrivalDate="20160304" arrivalTime="1300" carrier="LA" departureDate="20160303" departureTime="2015" destination="MAD" flightNumber="704" origin="SCL" sequenceNumber="2">
                <Leg allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" dateOffset="0" destination="MAD" sequenceNumber="1">
                    <Compartment adjustedCapacity="30" capacity="30" code="J" groupBooked="0" odFactor="100" totalAU="30" totalBooked="17">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="J" groupBooked="0" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="C" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="D" groupBooked="0" totalBooked="4"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="I" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Z" groupBooked="0" totalBooked="10"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="U" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="W" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="P" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="R" groupBooked="0" totalBooked="0"/>
                    </Compartment>
                    <Compartment adjustedCapacity="213" capacity="213" code="Y" groupBooked="0" odFactor="100" totalAU="219" totalBooked="169">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Y" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="B" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="H" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="K" groupBooked="0" totalBooked="2"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="M" groupBooked="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="L" groupBooked="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="V" groupBooked="0" totalBooked="6"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="X" groupBooked="0" totalBooked="7"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="S" groupBooked="0" totalBooked="5"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="N" groupBooked="0" totalBooked="11"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Q" groupBooked="0" totalBooked="25"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="O" groupBooked="0" totalBooked="25"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="G" groupBooked="0" totalBooked="13"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="T" groupBooked="0" totalBooked="9"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="A" groupBooked="0" totalBooked="65"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="E" groupBooked="0" totalBooked="0"/>
                    </Compartment>
                </Leg>
                <Segment allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" destination="SCL" origin="MAD" sequenceNumber="1">
                    <Compartment code="J" groupBooked="0">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="J" groupBooked="0" limit="999" odAvailability="0" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="C" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="D" groupBooked="0" limit="999" odAvailability="0" totalBooked="3"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="I" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Z" groupBooked="0" limit="999" odAvailability="0" totalBooked="9"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="U" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="W" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="P" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="R" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>	
                    </Compartment>
                    <!-- **** FZ **** -->
                    <!-- ¿Cómo se calculó el campo "odAvailability"? -->
					
                    <!-- 2016.02.22 --> 
                    <!-- 1. El campo "limit" a nivel de segmento, ¿viene por default en "999" o cómo se calcula? 
                            En el InventoryControlFlightDisplayRS hay un campo que es "<ns2:MaxSeats/>", que me parece vendría a ser lo que se conoce como "límites por segmento",
                            que encajaría con lo que estamos hablando acá, PERO habría que confirmar con Sabre, dependiendo de qué es lo que GSO requiera en ese valor.
                    -->
                    <Compartment code="Y" groupBooked="0">
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Y" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="B" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="H" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="K" groupBooked="0" limit="999" odAvailability="0" totalBooked="2"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="M" groupBooked="0" limit="999" odAvailability="0" totalBooked="1"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="L" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="V" groupBooked="0" limit="999" odAvailability="0" totalBooked="5"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="X" groupBooked="0" limit="999" odAvailability="0" totalBooked="5"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="S" groupBooked="0" limit="999" odAvailability="0" totalBooked="4"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="N" groupBooked="0" limit="999" odAvailability="0" totalBooked="9"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="Q" groupBooked="0" limit="999" odAvailability="0" totalBooked="19"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="O" groupBooked="0" limit="999" odAvailability="0" totalBooked="17"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="G" groupBooked="0" limit="999" odAvailability="0" totalBooked="9"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="T" groupBooked="0" limit="999" odAvailability="0" totalBooked="7"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="A" groupBooked="0" limit="999" odAvailability="0" totalBooked="57"/>
                        <Class allowBooking="1" allowGroup="1" allowSale="1" allowWaitList="1" code="E" groupBooked="0" limit="999" odAvailability="0" totalBooked="0"/>	
                    </Compartment>
                </Segment>
            </Flight>
        </Option>
    </Direction>
</Response>